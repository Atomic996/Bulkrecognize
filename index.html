
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <title>Bulk Protocol | v8.5</title>
    <script>
      // Initialize environment variables
      window.process = { env: { NODE_ENV: 'production', API_KEY: '' } };
      
      // Critical error detection system
      window.onerror = function(msg, url, line) {
        console.error("Critical Runtime Error:", msg, "at line", line);
        // Avoid infinite reload loops if the error is early
        if (msg.includes("Script error") || line === 0) return;
        
        const root = document.getElementById('root');
        if (root && (!root.innerHTML || root.innerHTML.length < 200)) {
          root.innerHTML = `
            <div style="background:#050505; color:#00f2ff; height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; font-family:sans-serif; text-align:center; padding:20px;">
              <h1 style="font-style:italic; letter-spacing:-2px; margin-bottom:10px;">PROTOCOL_ERROR</h1>
              <p style="opacity:0.6; font-size:12px; max-width:320px; line-height:1.6;">The social graph failed to initialize. This is usually caused by a network sync issue or browser incompatibility.</p>
              <div style="font-family:monospace; font-size:10px; color:#ff4444; margin-top:15px; background:rgba(255,0,0,0.1); padding:10px; border-radius:8px;">${msg.substring(0, 100)}</div>
              <button onclick="location.reload()" style="margin-top:25px; background:#00f2ff; color:#000; border:none; padding:15px 35px; font-weight:900; cursor:pointer; border-radius:14px; text-transform:uppercase; letter-spacing:1px; font-size:11px;">Reboot Node</button>
            </div>
          `;
        }
      };
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap');
        :root { --neon: #00f2ff; --bg: #050505; }
        body { font-family: 'Space Grotesk', sans-serif; background-color: var(--bg); color: #ffffff; margin: 0; overflow-x: hidden; -webkit-tap-highlight-color: transparent; }
        .cyber-grid { position: fixed; inset: 0; background-image: linear-gradient(to right, rgba(255,255,255,0.02) 1px, transparent 1px), linear-gradient(to bottom, rgba(255,255,255,0.02) 1px, transparent 1px); background-size: 50px 50px; z-index: -1; }
        .neon-glow { filter: drop-shadow(0 0 12px var(--neon)); }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.08); }
        @keyframes scanline { 0% { transform: translateY(-100%); } 100% { transform: translateY(100%); } }
        .scanline { position: fixed; inset: 0; background: linear-gradient(to bottom, transparent, rgba(0, 242, 255, 0.05), transparent); height: 2px; animation: scanline 8s linear infinite; pointer-events: none; }
        .page-fade { animation: fadeIn 0.8s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Swipe Animations */
        @keyframes swipeRight { to { transform: translateX(200%) rotate(30deg); opacity: 0; } }
        @keyframes swipeLeft { to { transform: translateX(-200%) rotate(-30deg); opacity: 0; } }
        .card-swipe-right { animation: swipeRight 0.5s cubic-bezier(0.23, 1, 0.32, 1) forwards; }
        .card-swipe-left { animation: swipeLeft 0.5s cubic-bezier(0.23, 1, 0.32, 1) forwards; }
        .card-animation-enter { opacity: 0; transform: scale(0.9) translateY(30px); }
        .card-animation-active { opacity: 1; transform: scale(1) translateY(0); transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1); }
    </style>
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@19.0.0",
    "react-dom": "https://esm.sh/react-dom@19.0.0",
    "react-dom/client": "https://esm.sh/react-dom@19.0.0/client",
    "@google/genai": "https://esm.sh/@google/genai@1.3.0",
    "@supabase/supabase-js": "https://esm.sh/@supabase/supabase-js@2.39.7",
    "html2canvas": "https://esm.sh/html2canvas@1.4.1",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "react/": "https://esm.sh/react@^19.2.4/"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body>
    <div class="cyber-grid"></div>
    <div class="scanline"></div>
    <div id="root">
        <div style="height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; background: #050505;">
            <svg width="60" height="60" viewBox="0 0 100 100" fill="#00f2ff">
                <path d="M50 0 L54 42 L80 20 L58 46 L100 50 L58 54 L80 80 L54 58 L50 100 L46 58 L20 80 L42 54 L0 50 L42 46 L20 20 L46 42 Z" />
            </svg>
            <div style="margin-top: 24px; color: #00f2ff; font-family: monospace; font-size: 10px; letter-spacing: 6px; font-weight: 900; text-transform: uppercase; animation: pulse 1.5s infinite;">Initializing_Protocol</div>
        </div>
    </div>
    <script type="module" src="index.tsx"></script>
    <style>
      @keyframes pulse { 0%, 100% { opacity: 0.3; } 50% { opacity: 1; } }
    </style>
<script type="module" src="/index.tsx"></script>
</body>
</html>
